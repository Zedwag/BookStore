{"version":3,"sources":["components/error-indicator/oops.png","components/shop-header/index.js","components/shop-header/shop-header.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","actions/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["module","exports","ShopHeader","connect","shoppingCart","orderTotal","numItems","itemsQuantity","total","className","to","BookListItem","book","onAddedToCart","title","author","price","coverImage","src","alt","onClick","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","bookAddedToCart","bookId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","compose","funcs","comp","reduceRight","wrapped","f","Spinner","ErrorIndicator","icon","BookList","books","map","key","id","BookListContainer","this","loading","error","Component","bookList","bindActionCreators","HomePage","mapDispatchToProps","onIncrese","onDecrease","onDelete","ShoppingCartTable","items","cartItems","item","idx","count","CartPage","App","role","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","updateBookList","action","undefined","updateCartItems","slice","updateOrder","quantity","find","itemIndex","findIndex","newItem","updateCartItem","updateShoppingCart","reducer","store","createStore","applyMiddleware","thunkMiddleware","next","ReactDOM","render","value","document","getElementById"],"mappings":"kGAAAA,EAAOC,QAAU,IAA0B,kC,yRCE5BC,G,MC2BAC,aAPS,SAAC,GAAoD,IAAD,IAAjDC,aAAgBC,EAAiC,EAAjCA,WACvC,MAAO,CACHC,SAFoE,EAArBC,cAG/CC,MAAOH,KAIAF,EAxBI,SAAC,GAAyB,IAAvBG,EAAsB,EAAtBA,SAAUE,EAAY,EAAZA,MAC5B,OACI,4BAAQC,UAAU,mBACd,kBAAC,IAAD,CAAMC,GAAG,eACL,yBAAKD,UAAU,kBAAf,cAEJ,kBAAC,IAAD,CAAMC,GAAG,mBACL,yBAAKD,UAAU,iBACX,uBAAGA,UAAU,kCACZH,EAFL,YAEwBE,EAFxB,W,wCCVDG,G,MCCM,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,cAClBC,EAAqCF,EAArCE,MAAOC,EAA8BH,EAA9BG,OAAQC,EAAsBJ,EAAtBI,MAAOC,EAAeL,EAAfK,WAC9B,OACI,yBAAKR,UAAU,kBACX,yBAAKA,UAAU,cACX,yBAAKS,IAAKD,EAAYE,IAAI,WAE9B,yBAAKV,UAAU,gBACX,0BAAMA,UAAU,cAAcK,GAC9B,yBAAKL,UAAU,eAAeM,GAC9B,yBAAKN,UAAU,cAAcO,EAA7B,KACA,4BAAQI,QAASP,EAAeJ,UAAU,4BAA1C,mB,UCTZY,IAAMC,gBAFIC,E,EAAVC,SACUC,E,EAAVC,SCcWC,EAfc,kBAAM,SAACC,GAEhC,OAAO,SAACC,GACJ,OACI,kBAACJ,EAAD,MAEQ,SAACK,GACG,OAAO,kBAACF,EAAD,iBAAaC,EAAb,CAAoBC,iBAAkBA,WCWxDC,EAAkB,SAACC,GAC5B,MAAO,CACHC,KAAM,qBACNC,QAASF,IAkBXG,EAAa,SAACL,GAAD,OAAsB,kBAAM,SAACM,GAC5CA,EAzCO,CACHH,KAAM,wBAyCVH,EAAiBO,WACZC,MAAK,SAACC,GAAD,OAAUH,EArCb,CACHH,KAAM,sBACNC,QAmCqCK,OACpCC,OAAM,SAACC,GAAD,OAASL,EA/Bb,CACHH,KAAM,sBACNC,QA6BoCO,UCzC3BC,EALD,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAc,SAACC,GAC3B,OAAOD,EAAME,aACX,SAACC,EAASC,GAAV,OAAgBA,EAAED,KAAUF,KCAnBI,G,MCCC,WACZ,OACI,yBAAKvC,UAAU,oBACX,yBAAKA,UAAU,uBACX,+BAEJ,2BAAOwB,KAAK,gB,yBCPTgB,ECEQ,WACnB,OACI,yBAAKxC,UAAU,mBACX,yBAAKS,IAAKgC,IAAM/B,IAAI,eACpB,qECGNgC,G,MAAW,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,MAAOvC,EAAoB,EAApBA,cACvB,OACI,wBAAIJ,UAAU,aAEN2C,EAAMC,KAAI,SAACzC,GACP,OAAO,wBAAI0C,IAAK1C,EAAK2C,IAAI,kBAAC,EAAD,CAAc3C,KAAMA,EAAMC,cAAe,kBAAMA,EAAcD,EAAK2C,cAOzGC,E,4LAGEC,KAAK5B,MAAMM,e,+BAGL,IAAD,EAC4CsB,KAAK5B,MAA9CuB,EADH,EACGA,MAAOM,EADV,EACUA,QAASC,EADnB,EACmBA,MAAO9C,EAD1B,EAC0BA,cAE/B,OAAI6C,EACO,kBAAC,EAAD,MAGPC,EACO,kBAAC,EAAD,MAGJ,kBAAC,EAAD,CAAUP,MAAOA,EAAOvC,cAAeA,Q,GAjBtB+C,aCrBjBT,EDqDAT,EACXf,IACAxB,aAboB,SAAC,GAA4C,IAAD,IAAzC0D,SACvB,MAAO,CAAET,MADuD,EAA7BA,MACnBM,QADgD,EAAtBA,QACjBC,MADuC,EAAbA,UAI5B,SAACvB,EAAD,GAAqC,IAAxBN,EAAuB,EAAvBA,iBACpC,OAAOgC,YAAoB,CACvB3B,WAAYA,EAAWL,GACvBjB,cAAekB,GAChBK,MAGQM,CAGbc,GEjDaO,EANE,WACf,OACE,kBAAC,EAAD,OC6DEC,G,MAAsB,CACxBC,UAAWlC,EACXmC,WTxC+B,SAAClC,GAChC,MAAO,CACHC,KAAM,yBACNC,QAASF,ISsCbmC,STlCkC,SAACnC,GACnC,MAAO,CACHC,KAAM,8BACNC,QAASF,MUpCFoC,EDsEAjE,aAbS,SAAC,GAAgD,IAAD,IAA7CC,aACvB,MAAO,CACHiE,MAFgE,EAA7BC,UAGnC9D,MAHgE,EAAlBH,cAad2D,EAAzB7D,EA/DW,SAAC,GAAuD,IAArDkE,EAAoD,EAApDA,MAAO7D,EAA6C,EAA7CA,MAAOyD,EAAsC,EAAtCA,UAAWC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SAyB9D,OACI,yBAAK1D,UAAU,uBACX,0CACA,2BAAOA,UAAU,SACb,+BACI,4BACI,iCACA,oCACA,qCACA,qCACA,wCAIR,+BACM4D,EAAMhB,KAtCN,SAACkB,EAAMC,GAAS,IACtBjB,EAA4BgB,EAA5BhB,GAAIzC,EAAwByD,EAAxBzD,MAAO2D,EAAiBF,EAAjBE,MAAOjE,EAAU+D,EAAV/D,MAC1B,OACI,wBAAI8C,IAAKC,GACL,4BAAKiB,EAAM,GACX,4BAAK1D,GACL,4BAAK2D,GACL,gCAAMjE,GACN,4BACI,4BAAQY,QAAS,kBAAM+C,EAASZ,IAAK9C,UAAU,6CAC3C,uBAAGA,UAAU,mBAEjB,4BAAQW,QAAS,kBAAM6C,EAAUV,IAAK9C,UAAU,8CAC5C,uBAAGA,UAAU,uBAEjB,4BAAQW,QAAS,kBAAM8C,EAAWX,IAAK9C,UAAU,8CAC7C,uBAAGA,UAAU,+BAyBzB,yBAAKA,UAAU,SAAf,WACaD,OE9CVkE,EAJE,WACf,OAAO,kBAAC,EAAD,OCFMC,G,MCIH,WACR,OACI,0BAAMC,KAAK,OAAOnE,UAAU,aAExB,kBAAC,EAAD,CAAYH,SAAU,EAAGE,MAAO,MAChC,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIqE,KAAK,cACLC,UAAWf,EACXgB,OAAK,IACT,kBAAC,IAAD,CACIF,KAAK,kBACLC,UAAWJ,QChBhBM,E,2MCGXC,MAAQ,CACJC,UAAU,G,mFAIVzB,KAAK0B,SAAS,CAACD,UAAU,M,+BAIzB,OAAIzB,KAAKwB,MAAMC,SACJ,kBAAC,EAAD,MAGJzB,KAAK5B,MAAMuD,a,GAfgBxB,aCHrByB,E,iDAEjB9C,KAAO,CACH,CACIgB,GAAI,EACJzC,MAAO,oBACPC,OAAQ,YACRC,MAAO,GACPC,WAAY,0FAEhB,CACIsC,GAAI,EACJzC,MAAO,kCACPC,OAAQ,YACRC,MAAO,EACPC,WAAY,iGAEhB,CACIsC,GAAI,EACJzC,MAAO,8BACPC,OAAQ,eACRC,MAAO,GACPC,WAAY,2HAEhB,CACIsC,GAAI,EACJzC,MAAO,gBACPC,OAAQ,oBACRC,MAAO,GACPC,WAAY,iEAEhB,CACIsC,GAAI,EACJzC,MAAO,gBACPC,OAAQ,eACRC,MAAO,EACPC,WAAY,mIAEhB,CACIsC,GAAI,EACJzC,MAAO,wBACPC,OAAQ,gBACRC,MAAO,GACPC,WAAY,wFAEhB,CACIsC,GAAI,EACJzC,MAAO,mBACPC,OAAQ,2BACRC,MAAO,GACPC,WAAY,4E,uDAIR,IAAD,OACP,OAAO,IAAIqE,SAAQ,SAACC,EAASC,GACzBC,YAAW,kBAAMF,EAAQ,EAAKhD,QAAO,Y,aCtBlCmD,EAlCQ,SAACT,EAAOU,GAE3B,QAAcC,IAAVX,EACA,MAAO,CACJ7B,MAAO,GACPM,SAAS,EACTC,MAAO,MAIf,OAAQgC,EAAO1D,MACX,IAAK,sBACD,MAAO,CACHmB,MAAO,GACPM,SAAS,EACTC,MAAO,MAEf,IAAK,sBACD,MAAO,CACHP,MAAOuC,EAAOzD,QACdwB,SAAS,EACTC,MAAO,MAEf,IAAK,sBACD,MAAO,CACHP,MAAO,GACPM,SAAS,EACTC,MAAOgC,EAAOzD,SAEtB,QACI,OAAO+C,EAAMpB,W,QC9BlBgC,EAAkB,SAACvB,EAAWC,EAAMC,GAEtC,OAAmB,IAAfD,EAAKE,MACC,GAAN,mBACOH,EAAUwB,MAAM,EAAGtB,IAD1B,YAEOF,EAAUwB,MAAMtB,EAAM,MAIpB,IAATA,EACM,GAAN,mBACOF,GADP,CAEIC,IAIF,GAAN,mBACOD,EAAUwB,MAAM,EAAGtB,IAD1B,CAEID,GAFJ,YAGOD,EAAUwB,MAAMtB,EAAM,MAgB3BuB,EAAc,SAACd,EAAOjD,EAAQgE,GAAc,IAE1B5C,EAAmE6B,EAA/EpB,SAAYT,MAFyB,EAE0C6B,EAA1D7E,aAAgBkE,EAFA,EAEAA,UAAWjE,EAFX,EAEWA,WAAYE,EAFvB,EAEuBA,cAC9DK,EAAOwC,EAAM6C,MAAK,qBAAE1C,KAAevB,KAEnCkE,EAAY5B,EAAU6B,WAAU,qBAAE5C,KAAevB,KAGjDoE,EApBa,SAACxF,GAA+B,IAAzB2D,EAAwB,uDAAjB,GAAIyB,EAAa,yCAEkBzB,EAA5DhB,UAF0C,MAErC3C,EAAK2C,GAFgC,IAEkBgB,EAA7CE,aAF2B,MAEnB,EAFmB,IAEkBF,EAAlCzD,aAFgB,MAERF,EAAKE,MAFG,IAEkByD,EAAd/D,aAFJ,MAEY,EAFZ,EAIlD,MAAO,CACH+C,KACAzC,QACA2D,MAAOA,EAAQuB,EACfxF,MAAOA,EAAQwF,EAASpF,EAAKI,OAYjBqF,CAAezF,EAFlB0D,EAAU4B,GAEoBF,GAE3C,MAAO,CACH3F,WAAYA,EAAWO,EAAKI,MAAMgF,EAClC1B,UAAWuB,EAAgBvB,EAAW8B,EAASF,GAC/C3F,cAAeA,EAAc,EAAEyF,IA4BxBM,EAxBY,SAACrB,EAAOU,GAE/B,QAAcC,IAAVX,EACA,MAAO,CACHX,UAAW,GACXjE,WAAY,EACZE,cAAe,GAIvB,OAAQoF,EAAO1D,MAEX,IAAK,qBACD,OAAO8D,EAAYd,EAAOU,EAAOzD,QAAS,GAC9C,IAAK,yBACD,OAAO6D,EAAYd,EAAOU,EAAOzD,SAAU,GAC/C,IAAK,8BACD,IAAMqC,EAAOU,EAAM7E,aAAakE,UAAU2B,MAAK,qBAAE1C,KAAeoC,EAAOzD,WACvE,OAAO6D,EAAYd,EAAOU,EAAOzD,SAAUqC,EAAKE,OACpD,QACI,OAAOQ,EAAM7E,eC7DVmG,EARC,SAACtB,EAAOU,GAEpB,MAAO,CACH9B,SAAU6B,EAAeT,EAAOU,GAChCvF,aAAckG,EAAmBrB,EAAOU,KCQjCa,EAFDC,YAAYF,EAASG,YAAgBC,KAT1B,kBAAM,SAACC,GAAD,OAAU,SAACjB,GACtC,OACWiB,EADW,kBAAXjB,EACK,CACR1D,KAAM0D,GAGFA,SCEV7D,EAAmB,IAAIuD,EAE7BwB,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,KACI,kBAACjF,EAAD,CAA0BwF,MAAOjF,GAC7B,kBAAC,IAAD,KACI,kBAAC,EAAD,UAKhBkF,SAASC,eAAe,W","file":"static/js/main.073b6b10.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/oops.138b0508.png\";","import ShopHeader from './shop-header'\r\n\r\nexport default ShopHeader","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport './shop-header.css'\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n    return(\r\n        <header className=\"shop-header row\">\r\n            <Link to='/BookStore/'>\r\n                <div className=\"logo text-dark\">BookStore</div>\r\n            </Link>\r\n            <Link to='/BookStore/cart'>\r\n                <div className=\"shopping-cart\">\r\n                    <i className=\"cart-icon fa fa-shopping-cart\" />\r\n                    {numItems} items (${total})\r\n                </div>\r\n            </Link>        \r\n            \r\n        </header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ shoppingCart: { orderTotal, itemsQuantity }}) => {\r\n    return {\r\n        numItems: itemsQuantity,\r\n        total: orderTotal,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ShopHeader)","import BookListItem from './book-list-item'\r\n\r\nexport default BookListItem","import React from 'react'\r\nimport './book-list-item.css'\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n    const { title, author, price, coverImage } = book\r\n    return (\r\n        <div className=\"book-list-item\">\r\n            <div className=\"book-cover\">\r\n                <img src={coverImage} alt=\"cover\" />\r\n            </div>\r\n            <div className=\"book-details\">\r\n                <span className=\"book-title\">{title}</span>\r\n                <div className=\"book-author\">{author}</div>\r\n                <div className=\"book-price\">{price}$</div>\r\n                <button onClick={onAddedToCart} className=\"btn btn-info add-to-cart\">\r\n                    Add to cart\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookListItem","import React from 'react'\r\n\r\nconst {\r\n    Provider: BookstoreServiceProvider,\r\n    Consumer: BookstoreServiceConsumer\r\n} = React.createContext()\r\n\r\nexport {\r\n    BookstoreServiceProvider,\r\n    BookstoreServiceConsumer\r\n}","import React from 'react'\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context'\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <BookstoreServiceConsumer>\r\n                {\r\n                    (bookstoreService) => {\r\n                        return <Wrapped {...props} bookstoreService={bookstoreService}/> \r\n                    }\r\n                }\r\n            </BookstoreServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withBookstoreService","\r\nconst booksRequested = () => {\r\n    return {\r\n        type: 'FETCH_BOOKS_REQUEST'\r\n    }\r\n}\r\n\r\nconst booksLoaded = (newBooks) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS',\r\n        payload: newBooks\r\n    }\r\n}\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const bookAddedToCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_ADDED_TO_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nexport const bookRemovedFromCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_REMOVED_FROM_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nexport const allBookRemovedFromCart = (bookId) => {\r\n    return {\r\n        type: 'ALL_BOOKS_REMOVED_FROM_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\r\n    dispatch(booksRequested())\r\n    bookstoreService.getBooks()\r\n        .then((data) => dispatch(booksLoaded(data)))\r\n        .catch((err) => dispatch(booksError(err)))\r\n}\r\n\r\nexport {\r\n    fetchBooks\r\n}","const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight(\r\n      (wrapped, f) => f(wrapped), comp)\r\n  }\r\n  \r\n  export default compose","import Spinner from './spinner'\r\n\r\nexport default Spinner","import React from 'react'\r\nimport './spinner.css'\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"lds-css ng-scope\">\r\n            <div className=\"lds-rolling spinner\">\r\n                <div></div>\r\n            </div>\r\n            <style type=\"text/css\"></style>\r\n        </div>\r\n    ) \r\n}\r\n\r\nexport default Spinner","import ErrorIndicator from './error-indicator'\r\n\r\nexport default ErrorIndicator","import React from 'react'\r\nimport './error-indicator.css'\r\nimport icon from './oops.png'\r\n\r\nconst ErrorIndicator = () => {\r\n    return(\r\n        <div className=\"error-indicator\">\r\n            <img src={icon} alt=\"error icon\"/>\r\n            <span>\r\n                something has gone terribly wrong\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorIndicator","import React, { Component } from 'react'\r\nimport BookListItem from '../book-list-item'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { withBookstoreService } from '../hoc'\r\nimport { fetchBooks, bookAddedToCart } from '../../actions'\r\nimport { compose } from '../../utils'\r\nimport Spinner from '../spinner'\r\nimport ErrorIndicator from '../error-indicator'\r\nimport './book-list.css'\r\n\r\nconst BookList = ({ books, onAddedToCart }) => {\r\n    return (\r\n        <ul className=\"book-list\">\r\n            {\r\n                books.map((book) => {\r\n                    return <li key={book.id}><BookListItem book={book} onAddedToCart={() => onAddedToCart(book.id)}/></li>\r\n                })\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nclass BookListContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchBooks()\r\n    }\r\n\r\n    render() {\r\n        const { books, loading, error, onAddedToCart } = this.props\r\n\r\n        if (loading) {\r\n            return <Spinner />\r\n        }\r\n\r\n        if (error) {\r\n            return <ErrorIndicator />\r\n        }\r\n\r\n        return <BookList books={books} onAddedToCart={onAddedToCart}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => {\r\n    return { books, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\r\n    return bindActionCreators( {\r\n        fetchBooks: fetchBooks(bookstoreService),\r\n        onAddedToCart: bookAddedToCart\r\n    }, dispatch)\r\n}\r\n\r\nexport default compose(\r\n    withBookstoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer)","import BookList from './book-list'\r\n\r\nexport default BookList","import React from 'react'\r\nimport BookList from '../book-list'\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <BookList />\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { \r\n    bookAddedToCart,\r\n    bookRemovedFromCart,\r\n    allBookRemovedFromCart } from '../../actions'\r\n\r\nimport './shopping-cart-table.css'\r\n\r\nconst ShoppingCartTable = ({ items, total, onIncrese, onDecrease, onDelete }) => {\r\n\r\n    const renderRow = (item, idx) => {\r\n        const { id, title, count, total } = item\r\n        return (\r\n            <tr key={id}>\r\n                <td>{idx + 1}</td>\r\n                <td>{title}</td>\r\n                <td>{count}</td>\r\n                <td>${total}</td>\r\n                <td>\r\n                    <button onClick={() => onDelete(id)} className=\"btn btn-outline-danger btn-sm float-right\">\r\n                        <i className=\"fa fa-trash-o\" />\r\n                    </button>\r\n                    <button onClick={() => onIncrese(id)} className=\"btn btn-outline-success btn-sm float-right\">\r\n                        <i className=\"fa fa-plus-circle\" />\r\n                    </button>\r\n                    <button onClick={() => onDecrease(id)} className=\"btn btn-outline-warning btn-sm float-right\">\r\n                        <i className=\"fa fa-minus-circle\" />\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"shopping-cart-table\">\r\n            <h2>Your Order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Item</th>\r\n                        <th>Count</th>\r\n                        <th>Price</th>\r\n                        <th>Action</th>\r\n                    </tr> \r\n                </thead>\r\n\r\n                <tbody>\r\n                    { items.map(renderRow) }\r\n                </tbody>\r\n            </table>\r\n            <div className=\"total\">\r\n                Total: ${total}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => {\r\n    return {\r\n        items: cartItems,\r\n        total: orderTotal\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps =  {\r\n    onIncrese: bookAddedToCart,\r\n    onDecrease: bookRemovedFromCart,\r\n    onDelete: allBookRemovedFromCart\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable)","import ShoppingCartTable from './shopping-cart-table'\r\n\r\nexport default ShoppingCartTable","import React from 'react'\r\nimport ShoppingCartTable from '../shopping-cart-table'\r\n\r\nconst CartPage = () => {\r\n  return <ShoppingCartTable />\r\n}\r\n\r\nexport default CartPage\r\n","import App from './app'\r\n\r\nexport default App","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport ShopHeader from '../shop-header'\r\nimport { HomePage, CartPage } from '../pages'\r\nimport './app.css'\r\n\r\nconst App = () => {\r\n    return (\r\n        <main role=\"main\" className=\"container\" >\r\n\r\n            <ShopHeader numItems={5} total={210}/>\r\n            <Switch>\r\n                <Route \r\n                    path='/BookStore/' \r\n                    component={HomePage}\r\n                    exact />\r\n                <Route \r\n                    path='/BookStore/cart' \r\n                    component={CartPage} />\r\n            </Switch>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default App","import ErrorBoundry from './error-boundry'\r\n\r\nexport default ErrorBoundry","import React, { Component } from 'react'\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state = {\r\n        hasError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({hasError: true})\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator/>\r\n        }\r\n\r\n        return this.props.children\r\n    }\r\n}","export default class BookstoreService {\r\n\r\n    data = [\r\n        { \r\n            id: 1,\r\n            title: 'Angels and Demons',\r\n            author: 'Dan Brown',\r\n            price: 14,\r\n            coverImage: \"https://english-films.com/uploads/posts/2018-03/1521037875_angels-and-demons-brown.jpg\"\r\n        },\r\n        { \r\n            id: 2,\r\n            title: \"One Flew over the Cuckoo's Nest\",\r\n            author: 'Ken Kesey',\r\n            price: 9,\r\n            coverImage: \"https://i.pinimg.com/736x/84/0a/78/840a78c0b462ce8c623ea45580b841f9--the-nest-book-design.jpg\"\r\n        },\r\n        {\r\n            id: 3,\r\n            title: \"The Minds of Billy Milligan\",\r\n            author: \"Daniel Keyes\",\r\n            price: 11,\r\n            coverImage: \"https://kbimages1-a.akamaihd.net/1a949dd2-ca0a-4c98-b7d2-73bfc5ad72ef/1200/1200/False/the-minds-of-billy-milligan-2.jpg\"\r\n        },\r\n        {\r\n            id: 4,\r\n            title: \"Eugene Onegin\",\r\n            author: \"Alexander Pushkin\",\r\n            price: 13,\r\n            coverImage: \"https://img.yakaboo.ua/media/catalog/product/i/m/img624_1.jpg\"\r\n        },\r\n        {\r\n            id: 5,\r\n            title: \"The Alchemist\",\r\n            author: \"Paulo Coelho\",\r\n            price: 7,\r\n            coverImage: \"https://img.buzzfeed.com/buzzfeed-static/static/2015-09/4/12/enhanced/webdr14/original-8582-1441384161-3.jpg?crop=739:1109;0,12\"\r\n        },\r\n        {\r\n            id: 6,\r\n            title: \"The War of the Worlds\",\r\n            author: \"Herbert Wells\",\r\n            price: 12,\r\n            coverImage: \"https://www.litres.ru/static/bookimages/44/43/84/44438402.bin.dir/44438402.cover.jpg\"\r\n        },\r\n        {\r\n            id: 7,\r\n            title: \"The Great Gatsby\",\r\n            author: \"Francis Scott Fitzgerald\",\r\n            price: 14,\r\n            coverImage: \"https://i.pinimg.com/736x/51/ac/83/51ac83d6099359ca9066f154f031fc0c.jpg\"\r\n        }\r\n    ]\r\n\r\n    getBooks() {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => resolve(this.data), 900)\r\n        })\r\n    }\r\n\r\n}","const updateBookList = (state, action) => {\r\n\r\n    if (state === undefined) {\r\n        return {\r\n           books: [],\r\n           loading: true,\r\n           error: null\r\n        }\r\n    }\r\n\r\n   switch (action.type) {\r\n       case 'FETCH_BOOKS_REQUEST':\r\n           return {\r\n               books: [],\r\n               loading: true,\r\n               error: null\r\n           }\r\n       case 'FETCH_BOOKS_SUCCESS':\r\n           return {\r\n               books: action.payload,\r\n               loading: false,\r\n               error: null\r\n           }\r\n       case 'FETCH_BOOKS_FAILURE':\r\n           return {\r\n               books: [],\r\n               loading: false,\r\n               error: action.payload\r\n           }\r\n       default:\r\n           return state.bookList\r\n   }\r\n}\r\n\r\nexport default updateBookList","const updateCartItems = (cartItems, item, idx) => {\r\n\r\n    if (item.count === 0) {\r\n        return [\r\n            ...cartItems.slice(0, idx),\r\n            ...cartItems.slice(idx + 1)\r\n        ]\r\n    } \r\n\r\n    if (idx === -1) {\r\n        return [\r\n            ...cartItems,\r\n            item\r\n        ]\r\n    }\r\n\r\n    return [\r\n        ...cartItems.slice(0, idx),\r\n        item,\r\n        ...cartItems.slice(idx + 1)\r\n    ]\r\n}\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n\r\n    const { id = book.id , count = 0, title = book.title, total = 0 } = item\r\n\r\n    return {\r\n        id,\r\n        title,\r\n        count: count + quantity,\r\n        total: total + quantity*book.price\r\n    }\r\n}\r\n\r\nconst updateOrder = (state, bookId, quantity) => {\r\n\r\n    const { bookList: { books} , shoppingCart: { cartItems, orderTotal, itemsQuantity }} = state\r\n    const book = books.find(({id}) => id === bookId)\r\n\r\n    const itemIndex = cartItems.findIndex(({id}) => id === bookId)\r\n    const item = cartItems[itemIndex]\r\n\r\n    const newItem = updateCartItem(book, item, quantity)\r\n\r\n    return {\r\n        orderTotal: orderTotal+book.price*quantity,\r\n        cartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n        itemsQuantity: itemsQuantity+1*quantity\r\n    }  \r\n}\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n\r\n    if (state === undefined) {\r\n        return {\r\n            cartItems: [],\r\n            orderTotal: 0,\r\n            itemsQuantity: 0\r\n        }\r\n    }\r\n\r\n    switch (action.type) {\r\n        \r\n        case 'BOOK_ADDED_TO_CART':\r\n            return updateOrder(state, action.payload, 1)\r\n        case 'BOOK_REMOVED_FROM_CART':\r\n            return updateOrder(state, action.payload, -1)\r\n        case 'ALL_BOOKS_REMOVED_FROM_CART':\r\n            const item = state.shoppingCart.cartItems.find(({id}) => id === action.payload)\r\n            return updateOrder(state, action.payload, -item.count)\r\n        default:\r\n            return state.shoppingCart\r\n    }\r\n}\r\n\r\nexport default updateShoppingCart","import updateBookList from './book-list'\r\nimport updateShoppingCart from './shopping-cart'\r\n\r\nconst reducer = (state, action) => {\r\n\r\n    return {\r\n        bookList: updateBookList(state, action),\r\n        shoppingCart: updateShoppingCart(state, action)\r\n    }\r\n}\r\n\r\nexport default reducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport reducer from './reducers'\r\n\r\nconst stringMiddleware = () => (next) => (action) => {\r\n    if (typeof action === 'string') {\r\n        return next({\r\n            type: action\r\n        })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware, stringMiddleware))\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport App from './components/app'\r\nimport ErrorBoundry from './components/error-boundry'\r\nimport BookstoreService from './services/bookstore-service'\r\nimport { BookstoreServiceProvider } from './components/bookstore-service-context'\r\n\r\nimport store from './store'\r\n\r\nconst bookstoreService = new BookstoreService()\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>\r\n            <BookstoreServiceProvider value={bookstoreService}>\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </BookstoreServiceProvider>\r\n        </ErrorBoundry>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}